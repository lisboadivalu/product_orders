import{a as n}from"./axios-G2rPRu76.js";import{_ as h,c,a as t,F as u,r as _,o as l,t as r}from"./index-gxKAu0iK.js";const p={data(){return{products:[],categories:[],formData:{product_id:"",category_id:""}}},methods:{getProducts(){n.get("http://localhost:9050/product",{}).then(e=>{e.data.data.map(o=>{this.products.push(o)})}).catch(e=>console.log(e))},getCategories(){n.get("http://localhost:9050/category",{}).then(e=>{e.data.data.map(o=>{this.categories.push(o)})}).catch(e=>console.log(e))},submitData(e){this.formData.product_id=e.id,this.formData.category_id=e.category_id;const s={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Method":"POST"},body:JSON.stringify(this.formData)};fetch("http://localhost:9050/order",s).then(o=>{alert("the order was created")}).catch(o=>alert(o))}},created(){this.getProducts(),this.getCategories()}},g={class:"content"},m={class:"about"},f=t("tr",null,[t("th",null,"id"),t("th",null,"title"),t("th",null,"category"),t("th",null,"price"),t("th",null,"action")],-1),y={class:"roll"},D={class:"hover-line"},b=["onClick"];function C(e,s,o,k,i,d){return l(),c("div",g,[t("div",m,[t("table",null,[f,t("div",y,[(l(!0),c(u,null,_(i.products,a=>(l(),c("tr",D,[t("td",null,r(a.id),1),t("td",null,r(a.title),1),t("td",null,r(a.category_title),1),t("td",null,"$"+r(a.price),1),t("td",null,[t("button",{onClick:v=>d.submitData(a)},"Buy",8,b)])]))),256))])])])])}const O=h(p,[["render",C]]);export{O as default};
