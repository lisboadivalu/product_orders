import{a as u}from"./axios-G2rPRu76.js";import{_,c as a,a as t,w as g,b as c,v as p,d as f,F as h,r as m,o as i,t as l}from"./index-gxKAu0iK.js";const v={data(){return{products:[],categories:[],formData:{title:"",price:"",category_id:""}}},methods:{getProducts(){u.get("http://localhost:9050/product",{}).then(s=>{s.data.data.map(n=>{this.products.push(n)})}).catch(s=>console.log(s))},getCategories(){u.get("http://localhost:9050/category",{}).then(s=>{s.data.data.map(n=>{this.categories.push(n)})}).catch(s=>console.log(s))},submitForm(){const s={method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Method":"POST"},body:JSON.stringify(this.formData)};fetch("http://localhost:9050/product",s).then(o=>{alert("the product was created")}).catch(o=>alert(o))}},created(){this.getProducts(),this.getCategories()}},b={class:"content"},y={class:"about"},D={class:"form-input"},x={class:"input-group"},P=t("label",{for:"title"},"Title",-1),w={class:"input-group"},C=t("label",{for:"tax"},"Category",-1),S=["value"],F={class:"input-group"},T=t("label",{for:"price"},"Price",-1),V=t("button",null,"Create Product",-1),M=t("tr",null,[t("th",null,"id"),t("th",null,"title"),t("th",null,"category"),t("th",null,"price")],-1),O={class:"roll"},B={class:"hover-line"};function U(s,o,n,k,r,d){return i(),a("div",b,[t("div",y,[t("form",{onSubmit:o[3]||(o[3]=g((...e)=>d.submitForm&&d.submitForm(...e),["prevent"]))},[t("div",D,[t("div",x,[P,c(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>r.formData.title=e),type:"text",name:"title",min:"1",max:"100"},null,512),[[p,r.formData.title]])]),t("div",w,[C,c(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>r.formData.category_id=e),name:"categories",id:"categoies"},[(i(!0),a(h,null,m(r.categories,e=>(i(),a("option",{value:e.id},l(e.title),9,S))),256))],512),[[f,r.formData.category_id]])]),t("div",F,[T,c(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>r.formData.price=e),type:"number",name:"price",min:"0.1",step:"0.01"},null,512),[[p,r.formData.price]])])]),V],32),t("table",null,[M,t("div",O,[(i(!0),a(h,null,m(r.products,e=>(i(),a("tr",B,[t("td",null,l(e.id),1),t("td",null,l(e.title),1),t("td",null,l(e.category_title),1),t("td",null,"$"+l(e.price),1)]))),256))])])])])}const j=_(v,[["render",U]]);export{j as default};
